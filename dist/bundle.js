!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);n(1);window.onload=function(){var t=new(function(){function e(){this.playerName=document.querySelector("#playerName"),this.playerStrength=document.querySelector("#playerStrength"),this.playerHealth=document.querySelector("#playerHealth"),this.monsterName=document.querySelector("#monsterName"),this.monsterStrength=document.querySelector("#monsterStrength"),this.monsterHealth=document.querySelector("#monsterHealth"),this.monsterList=document.querySelectorAll("#monsters input"),this.player=document.querySelector("#playerData"),this.listOfMonsters=[],this.monstervalue=0,this.consoleValue=document.querySelector("#console")}return e.prototype.getMonsterList=function(){for(var t=0,e=this.monsterList;t<e.length;t++){var n=e[t];n.dataset.name,n.dataset.health,n.dataset.strength;this.listOfMonsters.push(n.dataset.name),this.listOfMonsters.push(n.dataset.health),this.listOfMonsters.push(n.dataset.strength)}console.log(this.listOfMonsters)},e.prototype.getPlayer=function(){var t=this.player.dataset.name+" - "+this.player.dataset.health+" - "+this.player.dataset.strength;console.log(t)},e.prototype.render=function(){this.playerName.value=this.player.dataset.name,this.playerHealth.value=this.player.dataset.health,this.playerStrength.value=this.player.dataset.strength,this.monsterName.value=this.listOfMonsters[this.monstervalue],this.monsterHealth.value=this.listOfMonsters[this.monstervalue+1],this.monsterStrength.value=this.listOfMonsters[this.monstervalue+2],t.monstervalue>t.listOfMonsters.length-1&&(this.monsterName.value="",this.printOutWinner())},e.prototype.printOut=function(){var t=document.createElement("p");t.innerHTML="You attacked a monster and hit "+this.player.dataset.strength+" damage. "+this.listOfMonsters[this.monstervalue]+" hit you for "+this.listOfMonsters[this.monstervalue+2]+" damage",this.consoleValue.appendChild(t)},e.prototype.printOutKilled=function(){var t=document.createElement("p");t.innerHTML="You killed: "+this.listOfMonsters[this.monstervalue],this.consoleValue.appendChild(t)},e.prototype.printOutWinner=function(){var t=document.createElement("p");t.innerHTML="You won!",this.consoleValue.appendChild(t)},e}());t.getPlayer(),t.getMonsterList(),t.render(),document.querySelector("#fight").onclick=function(){t.printOut(),t.player.dataset.health=t.player.dataset.health-t.listOfMonsters[t.monstervalue+2],t.listOfMonsters[t.monstervalue+1]=t.listOfMonsters[t.monstervalue+1]-t.player.dataset.strength,t.listOfMonsters[t.monstervalue+1]<=0&&(t.printOutKilled(),t.monstervalue=t.monstervalue+3),t.monstervalue>t.listOfMonsters.length-1&&alert("You won!"),t.render()}}},function(t,e,n){var r=n(2);"string"==typeof r&&(r=[[t.i,r,""]]);var o={insert:"head",singleton:!1};n(4)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,"#header {\n  text-align: center;\n  background: bisque;\n  padding: 20px;\n  clear: both;\n  border-bottom: 3px solid gray;\n}\n#header h1 {\n  font-size: 40px;\n}\n#monsters {\n  display: none;\n}\n#combatArea {\n  display: flex;\n  align-items: center;\n}\n#player,\n#monster {\n  padding: 20px 40px;\n  text-align: center;\n  flex-grow: 2;\n}\n#fight {\n  flex-grow: 1;\n}\nlabel {\n  display: inline-block;\n  min-width: 100px;\n}\n",""])},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(a=r,i=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(l," */")),s=r.sources.map(function(t){return"/*# sourceURL=".concat(r.sourceRoot).concat(t," */")});return[n].concat(s).concat([o]).join("\n")}var a,i,l;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(n,"}"):n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<t.length;a++){var i=t[a];null!=i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="(".concat(i[2],") and (").concat(n,")")),e.push(i))}},e}},function(t,e,n){"use strict";var r,o={},s=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}();function i(t,e){for(var n=[],r={},o=0;o<t.length;o++){var s=t[o],a=e.base?s[0]+e.base:s[0],i={css:s[1],media:s[2],sourceMap:s[3]};r[a]?r[a].parts.push(i):n.push(r[a]={id:a,parts:[i]})}return n}function l(t,e){for(var n=0;n<t.length;n++){var r=t[n],s=o[r.id],a=0;if(s){for(s.refs++;a<s.parts.length;a++)s.parts[a](r.parts[a]);for(;a<r.parts.length;a++)s.parts.push(m(r.parts[a],e))}else{for(var i=[];a<r.parts.length;a++)i.push(m(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:i}}}}function u(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var r=n.nc;r&&(t.attributes.nonce=r)}if(Object.keys(t.attributes).forEach(function(n){e.setAttribute(n,t.attributes[n])}),"function"==typeof t.insert)t.insert(e);else{var o=a(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var c,h=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function p(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=h(e,o);else{var s=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}var f=null,d=0;function m(t,e){var n,r,o;if(e.singleton){var s=d++;n=f||(f=u(e)),r=p.bind(null,n,s,!1),o=p.bind(null,n,s,!0)}else n=u(e),r=function(t,e,n){var r=n.css,o=n.media,s=n.sourceMap;if(o&&t.setAttribute("media",o),s&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s());var n=i(t,e);return l(n,e),function(t){for(var r=[],s=0;s<n.length;s++){var a=n[s],u=o[a.id];u&&(u.refs--,r.push(u))}t&&l(i(t,e),e);for(var c=0;c<r.length;c++){var h=r[c];if(0===h.refs){for(var p=0;p<h.parts.length;p++)h.parts[p]();delete o[h.id]}}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZS5jc3M/OTgxOSIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwid2luZG93Iiwib25sb2FkIiwiZ2FtZSIsInRoaXMiLCJwbGF5ZXJOYW1lIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicGxheWVyU3RyZW5ndGgiLCJwbGF5ZXJIZWFsdGgiLCJtb25zdGVyTmFtZSIsIm1vbnN0ZXJTdHJlbmd0aCIsIm1vbnN0ZXJIZWFsdGgiLCJtb25zdGVyTGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwbGF5ZXIiLCJsaXN0T2ZNb25zdGVycyIsIm1vbnN0ZXJ2YWx1ZSIsImNvbnNvbGVWYWx1ZSIsImdldE1vbnN0ZXJMaXN0IiwibW9uc3RlciIsImRhdGFzZXQiLCJoZWFsdGgiLCJzdHJlbmd0aCIsInB1c2giLCJjb25zb2xlIiwibG9nIiwiZ2V0UGxheWVyIiwieWdyaXR0ZSIsInJlbmRlciIsImxlbmd0aCIsInByaW50T3V0V2lubmVyIiwicHJpbnRPdXQiLCJjb25zb2xlTGlzdCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsInByaW50T3V0S2lsbGVkIiwib25jbGljayIsImFsZXJ0IiwiY29udGVudCIsIm9wdGlvbnMiLCJsb2NhbHMiLCJ1c2VTb3VyY2VNYXAiLCJsaXN0IiwidG9TdHJpbmciLCJtYXAiLCJpdGVtIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlTWFwIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsImNvbmNhdCIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImpvaW4iLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJpZCIsIl9pIiwibWVtbyIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsIkJvb2xlYW4iLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwibGlzdFRvU3R5bGVzIiwic3R5bGVzIiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJjc3MiLCJtZWRpYSIsInBhcnRzIiwiYWRkU3R5bGVzVG9Eb20iLCJkb21TdHlsZSIsImoiLCJyZWZzIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsImluZGV4IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwib2JqIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsImZpcnN0Q2hpbGQiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsIl9kb21TdHlsZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFB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QUlrSCxFQUFPckQsT0FBUTdELElBQUssQ0FDdEMsSUFBSThFLEVBQU9vQyxFQUFPbEgsR0FDZDBILEVBQVdyQixFQUFZdkIsRUFBS29CLElBRTVCd0IsSUFDRkEsRUFBU0UsT0FDVG1DLEVBQVV4RyxLQUFLbUUsSUFJZm9DLEdBRUZyQyxFQURnQlIsRUFBYTZDLEVBQVN0RixHQUNaQSxHQUc1QixJQUFLLElBQUkyQixFQUFLLEVBQUdBLEVBQUs0RCxFQUFVbEcsT0FBUXNDLElBQU0sQ0FDNUMsSUFBSTZELEVBQVlELEVBQVU1RCxHQUUxQixHQUF1QixJQUFuQjZELEVBQVVwQyxLQUFZLENBQ3hCLElBQUssSUFBSUQsRUFBSSxFQUFHQSxFQUFJcUMsRUFBVXhDLE1BQU0zRCxPQUFROEQsSUFDMUNxQyxFQUFVeEMsTUFBTUcsWUFHWHRCLEVBQVkyRCxFQUFVOUQiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IFwiLi9zdHlsZS5jc3NcIjtcclxuXHJcbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICBjbGFzcyBHYW1lIHtcclxuICAgIHBsYXllck5hbWU6IEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBwbGF5ZXJTdHJlbmd0aDogSFRNTElucHV0RWxlbWVudDtcclxuICAgIHBsYXllckhlYWx0aDogSFRNTElucHV0RWxlbWVudDtcclxuICAgIG1vbnN0ZXJOYW1lOiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgbW9uc3RlclN0cmVuZ3RoOiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgbW9uc3RlckhlYWx0aDogSFRNTElucHV0RWxlbWVudDtcclxuICAgIG1vbnN0ZXJMaXN0OiBhbnk7XHJcbiAgICBwbGF5ZXI6IGFueTtcclxuICAgIGxpc3RPZk1vbnN0ZXJzOiBhbnlbXTtcclxuICAgIG1vbnN0ZXJ2YWx1ZTogbnVtYmVyO1xyXG4gICAgY29uc29sZVZhbHVlOiBhbnk7XHJcbiAgICBoZWFsdGg6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgdGhpcy5wbGF5ZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwbGF5ZXJOYW1lXCIpO1xyXG4gICAgICB0aGlzLnBsYXllclN0cmVuZ3RoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwbGF5ZXJTdHJlbmd0aFwiKTtcclxuICAgICAgdGhpcy5wbGF5ZXJIZWFsdGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BsYXllckhlYWx0aFwiKTtcclxuXHJcbiAgICAgIHRoaXMubW9uc3Rlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vbnN0ZXJOYW1lXCIpO1xyXG4gICAgICB0aGlzLm1vbnN0ZXJTdHJlbmd0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9uc3RlclN0cmVuZ3RoXCIpO1xyXG4gICAgICB0aGlzLm1vbnN0ZXJIZWFsdGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vbnN0ZXJIZWFsdGhcIik7XHJcblxyXG4gICAgICB0aGlzLm1vbnN0ZXJMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNtb25zdGVycyBpbnB1dFwiKTtcclxuICAgICAgdGhpcy5wbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BsYXllckRhdGFcIik7XHJcbiAgICAgIHRoaXMubGlzdE9mTW9uc3RlcnMgPSBbXTtcclxuICAgICAgdGhpcy5tb25zdGVydmFsdWUgPSAwO1xyXG5cclxuICAgICAgdGhpcy5jb25zb2xlVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnNvbGVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TW9uc3Rlckxpc3QoKSB7XHJcbiAgICAgIGZvciAobGV0IG1vbnN0ZXIgb2YgdGhpcy5tb25zdGVyTGlzdCkge1xyXG4gICAgICAgIGxldCBvbmVNb25zdGVyID1cclxuICAgICAgICAgIG1vbnN0ZXIuZGF0YXNldC5uYW1lICtcclxuICAgICAgICAgIFwiIC0gXCIgK1xyXG4gICAgICAgICAgbW9uc3Rlci5kYXRhc2V0LmhlYWx0aCArXHJcbiAgICAgICAgICBcIiAtIFwiICtcclxuICAgICAgICAgIG1vbnN0ZXIuZGF0YXNldC5zdHJlbmd0aDtcclxuXHJcbiAgICAgICAgdGhpcy5saXN0T2ZNb25zdGVycy5wdXNoKG1vbnN0ZXIuZGF0YXNldC5uYW1lKTtcclxuICAgICAgICB0aGlzLmxpc3RPZk1vbnN0ZXJzLnB1c2gobW9uc3Rlci5kYXRhc2V0LmhlYWx0aCk7XHJcbiAgICAgICAgdGhpcy5saXN0T2ZNb25zdGVycy5wdXNoKG1vbnN0ZXIuZGF0YXNldC5zdHJlbmd0aCk7XHJcbiAgICAgIH1cclxuICAgICAgY29uc29sZS5sb2codGhpcy5saXN0T2ZNb25zdGVycyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UGxheWVyKCkge1xyXG4gICAgICBsZXQgeWdyaXR0ZSA9XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuZGF0YXNldC5uYW1lICtcclxuICAgICAgICBcIiAtIFwiICtcclxuICAgICAgICB0aGlzLnBsYXllci5kYXRhc2V0LmhlYWx0aCArXHJcbiAgICAgICAgXCIgLSBcIiArXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuZGF0YXNldC5zdHJlbmd0aDtcclxuICAgICAgY29uc29sZS5sb2coeWdyaXR0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICB0aGlzLnBsYXllck5hbWUudmFsdWUgPSB0aGlzLnBsYXllci5kYXRhc2V0Lm5hbWU7XHJcbiAgICAgIHRoaXMucGxheWVySGVhbHRoLnZhbHVlID0gdGhpcy5wbGF5ZXIuZGF0YXNldC5oZWFsdGg7XHJcbiAgICAgIHRoaXMucGxheWVyU3RyZW5ndGgudmFsdWUgPSB0aGlzLnBsYXllci5kYXRhc2V0LnN0cmVuZ3RoO1xyXG5cclxuICAgICAgdGhpcy5tb25zdGVyTmFtZS52YWx1ZSA9IHRoaXMubGlzdE9mTW9uc3RlcnNbdGhpcy5tb25zdGVydmFsdWVdO1xyXG4gICAgICB0aGlzLm1vbnN0ZXJIZWFsdGgudmFsdWUgPSB0aGlzLmxpc3RPZk1vbnN0ZXJzW3RoaXMubW9uc3RlcnZhbHVlICsgMV07XHJcbiAgICAgIHRoaXMubW9uc3RlclN0cmVuZ3RoLnZhbHVlID0gdGhpcy5saXN0T2ZNb25zdGVyc1t0aGlzLm1vbnN0ZXJ2YWx1ZSArIDJdO1xyXG5cclxuICAgICAgaWYgKGdhbWUubW9uc3RlcnZhbHVlID4gZ2FtZS5saXN0T2ZNb25zdGVycy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgdGhpcy5tb25zdGVyTmFtZS52YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5wcmludE91dFdpbm5lcigpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpbnRPdXQoKSB7XHJcbiAgICAgIGxldCBjb25zb2xlTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gICAgICBjb25zb2xlTGlzdC5pbm5lckhUTUwgPVxyXG4gICAgICAgIFwiWW91IGF0dGFja2VkIGEgbW9uc3RlciBhbmQgaGl0IFwiICtcclxuICAgICAgICB0aGlzLnBsYXllci5kYXRhc2V0LnN0cmVuZ3RoICtcclxuICAgICAgICBcIiBkYW1hZ2UuIFwiICtcclxuICAgICAgICB0aGlzLmxpc3RPZk1vbnN0ZXJzW3RoaXMubW9uc3RlcnZhbHVlXSArXHJcbiAgICAgICAgXCIgaGl0IHlvdSBmb3IgXCIgK1xyXG4gICAgICAgIHRoaXMubGlzdE9mTW9uc3RlcnNbdGhpcy5tb25zdGVydmFsdWUgKyAyXSArXHJcbiAgICAgICAgXCIgZGFtYWdlXCI7XHJcbiAgICAgIHRoaXMuY29uc29sZVZhbHVlLmFwcGVuZENoaWxkKGNvbnNvbGVMaXN0KTtcclxuICAgIH1cclxuXHJcbiAgICBwcmludE91dEtpbGxlZCgpIHtcclxuICAgICAgbGV0IGNvbnNvbGVMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICAgIGNvbnNvbGVMaXN0LmlubmVySFRNTCA9XHJcbiAgICAgICAgXCJZb3Uga2lsbGVkOiBcIiArIHRoaXMubGlzdE9mTW9uc3RlcnNbdGhpcy5tb25zdGVydmFsdWVdO1xyXG4gICAgICB0aGlzLmNvbnNvbGVWYWx1ZS5hcHBlbmRDaGlsZChjb25zb2xlTGlzdCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpbnRPdXRXaW5uZXIoKSB7XHJcbiAgICAgIGxldCBjb25zb2xlTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gICAgICBjb25zb2xlTGlzdC5pbm5lckhUTUwgPSBcIllvdSB3b24hXCI7XHJcbiAgICAgIHRoaXMuY29uc29sZVZhbHVlLmFwcGVuZENoaWxkKGNvbnNvbGVMaXN0KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHZhciBnYW1lID0gbmV3IEdhbWUoKTtcclxuICBnYW1lLmdldFBsYXllcigpO1xyXG4gIGdhbWUuZ2V0TW9uc3Rlckxpc3QoKTtcclxuICBnYW1lLnJlbmRlcigpO1xyXG5cclxuICBjb25zdCBmaWdodEJ1dHRvbjogSFRNTElucHV0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZmlnaHRcIik7XHJcbiAgZmlnaHRCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgZ2FtZS5wcmludE91dCgpO1xyXG5cclxuICAgIGdhbWUucGxheWVyLmRhdGFzZXQuaGVhbHRoID1cclxuICAgICAgZ2FtZS5wbGF5ZXIuZGF0YXNldC5oZWFsdGggLSBnYW1lLmxpc3RPZk1vbnN0ZXJzW2dhbWUubW9uc3RlcnZhbHVlICsgMl07XHJcblxyXG4gICAgZ2FtZS5saXN0T2ZNb25zdGVyc1tnYW1lLm1vbnN0ZXJ2YWx1ZSArIDFdID1cclxuICAgICAgZ2FtZS5saXN0T2ZNb25zdGVyc1tnYW1lLm1vbnN0ZXJ2YWx1ZSArIDFdIC0gZ2FtZS5wbGF5ZXIuZGF0YXNldC5zdHJlbmd0aDtcclxuXHJcbiAgICBpZiAoZ2FtZS5saXN0T2ZNb25zdGVyc1tnYW1lLm1vbnN0ZXJ2YWx1ZSArIDFdIDw9IDApIHtcclxuICAgICAgZ2FtZS5wcmludE91dEtpbGxlZCgpO1xyXG4gICAgICBnYW1lLm1vbnN0ZXJ2YWx1ZSA9IGdhbWUubW9uc3RlcnZhbHVlICsgMztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZ2FtZS5tb25zdGVydmFsdWUgPiBnYW1lLmxpc3RPZk1vbnN0ZXJzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgYWxlcnQoXCJZb3Ugd29uIVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBnYW1lLnJlbmRlcigpO1xyXG4gIH07XHJcbn07XHJcblxyXG4vKiAgY2xhc3MgUGxheWVyIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGhlYWx0aCwgc3RyZW5ndGgpIHtcclxuICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgdGhpcy5oZWFsdGggPSBoZWFsdGg7XHJcbiAgICAgIHRoaXMuc3RyZW5ndGggPSBzdHJlbmd0aDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsYXNzIE1vbnN0ZXIge1xyXG4gICAgY29uc3RydWN0b3IobmFtZSwgaGVhbHRoLCBzdHJlbmd0aCkge1xyXG4gICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICB0aGlzLmhlYWx0aCA9IGhlYWx0aDtcclxuICAgICAgdGhpcy5zdHJlbmd0aCA9IHN0cmVuZ3RoO1xyXG4gICAgfVxyXG4gIH0gXHJcbiAgXHJcbiAgXHJcbiAgbGV0IGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXdJbnB1dFRleHRcIik7XHJcbiAgICBsZXQgdG9kbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuICAgIHRvZG8uaW5uZXJIVE1MID0gaW5wdXQudmFsdWU7XHJcblxyXG4gICAgbGV0IHRvZG9MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0b2RvTGlzdFwiKTtcclxuICAgIHRvZG9MaXN0LmFwcGVuZENoaWxkKHRvZG8pO1xyXG4gIFxyXG4gIFxyXG4gIFxyXG4gIFxyXG4gICovXHJcbiIsInZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIik7XG5cbmlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xufVxuXG52YXIgb3B0aW9ucyA9IHt9XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmIChjb250ZW50LmxvY2Fscykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xufVxuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIjaGVhZGVyIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGJhY2tncm91bmQ6IGJpc3F1ZTtcXG4gIHBhZGRpbmc6IDIwcHg7XFxuICBjbGVhcjogYm90aDtcXG4gIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCBncmF5O1xcbn1cXG4jaGVhZGVyIGgxIHtcXG4gIGZvbnQtc2l6ZTogNDBweDtcXG59XFxuI21vbnN0ZXJzIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbiNjb21iYXRBcmVhIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG4jcGxheWVyLFxcbiNtb25zdGVyIHtcXG4gIHBhZGRpbmc6IDIwcHggNDBweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZsZXgtZ3JvdzogMjtcXG59XFxuI2ZpZ2h0IHtcXG4gIGZsZXgtZ3JvdzogMTtcXG59XFxubGFiZWwge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgbWluLXdpZHRoOiAxMDBweDtcXG59XFxuXCIsIFwiXCJdKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwie1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBtb2R1bGVzW19pXTsgLy8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuICAgICAgLy8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcbiAgICAgIC8vIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cbiAgICAgIC8vIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblxuICAgICAgaWYgKGl0ZW1bMF0gPT0gbnVsbCB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBpZiAobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2UgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCIoXCIuY29uY2F0KGl0ZW1bMl0sIFwiKSBhbmQgKFwiKS5jb25jYXQobWVkaWFRdWVyeSwgXCIpXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG5cbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn0gLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuXG5cbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gIHJldHVybiBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlcyA9IFtdO1xuICB2YXIgbmV3U3R5bGVzID0ge307XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjc3MgPSBpdGVtWzFdO1xuICAgIHZhciBtZWRpYSA9IGl0ZW1bMl07XG4gICAgdmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG4gICAgdmFyIHBhcnQgPSB7XG4gICAgICBjc3M6IGNzcyxcbiAgICAgIG1lZGlhOiBtZWRpYSxcbiAgICAgIHNvdXJjZU1hcDogc291cmNlTWFwXG4gICAgfTtcblxuICAgIGlmICghbmV3U3R5bGVzW2lkXSkge1xuICAgICAgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICBwYXJ0czogW3BhcnRdXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gc3R5bGVzW2ldO1xuICAgIHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuICAgIHZhciBqID0gMDtcblxuICAgIGlmIChkb21TdHlsZSkge1xuICAgICAgZG9tU3R5bGUucmVmcysrO1xuXG4gICAgICBmb3IgKDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuICAgICAgfVxuXG4gICAgICBmb3IgKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwYXJ0cyA9IFtdO1xuXG4gICAgICBmb3IgKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgcGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG4gICAgICB9XG5cbiAgICAgIHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge1xuICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgcmVmczogMSxcbiAgICAgICAgcGFydHM6IHBhcnRzXG4gICAgICB9O1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5hdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIG9wdGlvbnMuYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKG9wdGlvbnMuYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgb3B0aW9ucy5hdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIGJ0b2EpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIG9wdGlvbnMuYXR0cmlidXRlcyA9IHR5cGVvZiBvcHRpb25zLmF0dHJpYnV0ZXMgPT09ICdvYmplY3QnID8gb3B0aW9ucy5hdHRyaWJ1dGVzIDoge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgdmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcbiAgYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgdmFyIG1heVJlbW92ZSA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gc3R5bGVzW2ldO1xuICAgICAgdmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cbiAgICAgIGlmIChkb21TdHlsZSkge1xuICAgICAgICBkb21TdHlsZS5yZWZzLS07XG4gICAgICAgIG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmV3TGlzdCkge1xuICAgICAgdmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcbiAgICAgIGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1heVJlbW92ZS5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfZG9tU3R5bGUgPSBtYXlSZW1vdmVbX2ldO1xuXG4gICAgICBpZiAoX2RvbVN0eWxlLnJlZnMgPT09IDApIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBfZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBfZG9tU3R5bGUucGFydHNbal0oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBzdHlsZXNJbkRvbVtfZG9tU3R5bGUuaWRdO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07Il0sInNvdXJjZVJvb3QiOiIifQ==